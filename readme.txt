ニコニコDLのためのツール
動画DL部分はyt-dlpに完全に委託している

現状過去ログが取れないのでアプデ予定


yt-dlpはとにかく最新のものを使って下さい
最新で取れなくなってもフォークや有志の改造があったりするかもしれませんので情報収集を
githubのissuesやスレなど

2024年9月現在の最新
https://github.com/yt-dlp/yt-dlp

オプションはyt_dlp_pathに書いて下さい オプションについてはURLの[USAGE AND OPTIONS]参照

例えばログインしたければ "yt_dlp_path": "yt-dlp -u メールアドレス -p パスワード"


2024/08/27
コメントダウンロードに対応 やっつけですが一応できるっぽい
コメントちゃんと取れてるかどうかとかチェック推奨です

ファイルを削除するようなコードは書かないようにしているのでそこは大丈夫かも 多分
フォルダ内を[0コメ]と検索すればコメントを取れなかった動画がわかると思います
コメント取得のアルゴリズムとかはあやふやですが多分大丈夫かなって感じです
過去ログは取れないっぽいですがわかりません 情報求む
GUIを作る気はないです
かんたんコメントはとりあえず取らないことにしてます

commeonと取得コメント量は同じなはず
commeonのコメント取得数は実際のものより多く表示されることがあるっぽい？
(かんたんコメントの分かも？)

現状の問題点
動画情報を取らない めんどいからいいか
公式動画のシリーズページから取れない これは修正予定
投稿者コメントをファイル分離とかはしていない


関係ないですがeverythingというソフトが動画ファイルの存在確認に便利です


設定
実行ファイルを動画をダウンロードしたいところに放り込む
yt-dlp.exeはPATH設定するか動画をダウンロードするフォルダに放り込む
基本的にこれだけです


また、ダウンロードパスやyt-dlpのパスやオプション等を弄りたい場合は
実行ファイルと同じ場所にnicodl_option.jsonに設定を書けば適応されます
文字コードはutf-8です
このファイルは存在しなくてもエラーになりません

# オプションファイルの例
{
"dl_dir": "C:/nicovideo",            # 動画のダウンロードフォルダ
"yt_dlp_path": "C:/tool/yt_dlp.exe", # yt-dlpの.exeへのパス yt-dlpのオプションもここに書いて下さい
"end_presswait": "true"              # 完了後にキー待ちをする bool値
"is_video": ""                       # 動画をDLするかどうか
"is_comment": ""                     # コメントをDLするかどうか (この設定はフォルダのファイルのIDを読み込むやつには適応されない 多分)
"comment_fileformat": "*title* [*id*][*comment_num*コメ].xml" # コメントファイル名の書式
}

bool値はtrueかfalseでyes noの意味になります
何も書かなければデフォルトの良さげな設定になります


.exeファイルを使う場合は.pyファイルは不要です
